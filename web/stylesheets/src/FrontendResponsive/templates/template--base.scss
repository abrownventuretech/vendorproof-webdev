@import "../../config/base-import";

@import "../../Library/normalize";
@import "template--base/buttons";

$footer-height: 120px;

*, *:before, *:after {
	box-sizing: border-box;
}

body, html {
	background-color: $color-grey-dd;
	font-family: $font-arial;
	font-size: $default-font-size;
}

#e_wrapper {
	min-height: 0;

	@include breakpoint($bp-tablets-portrait) {
		min-height: 100.00%;
	}
}

#e_content {
	@include breakpoint($bp-tablets-portrait) {
		padding-bottom: $footer-height + 10px;
	}
}

#header_wc_0,
#nav_wc_0,
#body_wc_0 {

	@include breakpoint($bp-tablets-portrait) {
		margin: 0 auto;
	}

	@include breakpoint($bp-tablets-landscape) {
		width: 960px;
	}
}

#header {
	background-color: $color-white;

	div.logout {
		float: right;
		position: relative;

		.username {
			display: block;
			margin: 0 0 5px;
			font-style: italic;
			font-family: $font-georgia;
		}

		span.logout_url {
			text-align: right;
			display: block;
		}

		a.logout_url {
			display: inline-block;
			background: left center transparent url(/resources/dyn/files/176595z41d160b0/_fn/logout.png) no-repeat;
			padding-left: 25px;
			line-height: 20px;
			color: #413388;
			text-decoration: none;
			font-size: 12px;
		}
	}
}

#header_wc_0 {
	*zoom: 1;
	padding: 20px $spacing-horizontal-mobile;
	@include clearfix;
}

.site_logo {

	img {
		max-width: 100%;
		height: auto;
	}
}

.entity_selector {
	display: inline-block;
	*zoom: 1;
	*display: inline;
	vertical-align: middle;
	margin-left: 20px;
}

#nav {
	min-height: 32px;
	border-top: 1px solid #666666;
	border-bottom: 1px solid #fff;
	background: #478bbc; /* Old browsers */
	/* IE9 SVG, needs conditional override of 'filter' to 'none' */
	background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzQ3OGJiYyIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjQ5JSIgc3RvcC1jb2xvcj0iIzNmN2RhYSIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMzOTZmOTYiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
	background: linear-gradient(to bottom,  #478bbc 0%,#3f7daa 49%,#396f96 100%); /* W3C */

	.ieonly & {
		background: none;
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#478bbc', endColorstr='#396f96',GradientType=0 ); /* IE6-8 */
	}
}


#body {
	@include breakpoint($bp-tablets-portrait) {
		padding: 15px 0;
	}
}

#body_wc_0 {
	padding: 40px $spacing-horizontal-mobile;
	background: $color-white;
	border-bottom: 1px solid $color-grey-aa;
	*zoom: 1;
	@include clearfix;

	@include breakpoint($bp-tablets-portrait) {
		padding-left: $spacing-horizontal-tablet;
		padding-right: $spacing-horizontal-tablet;
		border-radius: 8px;
		box-shadow: 1px 3px 3px $color-grey-aa;
		border: 1px solid $color-grey-aa;
	}
}


#footer {
	padding: 15px;
	text-align: center;
	color: $color-grey-77;

	@include breakpoint($bp-tablets-portrait) {
		height: $footer-height;
		margin-top: -$footer-height;
	}

	a {
		text-decoration: none;

		&:hover {
			text-decoration: underline;
		}
	}
}

#nav {
	.menu {
		margin: 0;
		padding: 0;
	}

	.mi {
		display: inline-block;
		*zoom: 1;
		*display: inline;
		vertical-align: top;
	}

	.menuitemlabel {
		text-decoration: none;
		color: #fff;
		line-height: 32px;
		display: block;
		padding: 0 15px;
		border-right: 1px solid #23596a;
		border-left: 1px solid #9abac4;
		text-shadow: 1px 1px 1px rgba(0,0,0,1);
	}

	.first .menuitemlabel {
		border-left: none;
	}

	.last .menuitemlabel {
		border-right: none;
	}

	.menuitemlabel:hover,
	.mi_active .menuitemlabel {
		background: #1f1f1f; /* Old browsers */
		/* IE9 SVG, needs conditional override of 'filter' to 'none' */
		background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzFmMWYxZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjMlIiBzdG9wLWNvbG9yPSIjMmEyYTJhIiBzdG9wLW9wYWNpdHk9IjEiLz4KICAgIDxzdG9wIG9mZnNldD0iNiUiIHN0b3AtY29sb3I9IiMzOTM5MzkiIHN0b3Atb3BhY2l0eT0iMSIvPgogICAgPHN0b3Agb2Zmc2V0PSIxMCUiIHN0b3AtY29sb3I9IiM0NTQ1NDUiIHN0b3Atb3BhY2l0eT0iMSIvPgogICAgPHN0b3Agb2Zmc2V0PSIxMyUiIHN0b3AtY29sb3I9IiM0OTQ5NDkiIHN0b3Atb3BhY2l0eT0iMSIvPgogICAgPHN0b3Agb2Zmc2V0PSI2NSUiIHN0b3AtY29sb3I9IiM1ODU4NTgiIHN0b3Atb3BhY2l0eT0iMSIvPgogICAgPHN0b3Agb2Zmc2V0PSI3NCUiIHN0b3AtY29sb3I9IiM1ZDVkNWQiIHN0b3Atb3BhY2l0eT0iMSIvPgogICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjNjM2MzYyIiBzdG9wLW9wYWNpdHk9IjEiLz4KICA8L2xpbmVhckdyYWRpZW50PgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9InVybCgjZ3JhZC11Y2dnLWdlbmVyYXRlZCkiIC8+Cjwvc3ZnPg==);
		background: linear-gradient(to bottom,  #1f1f1f 0%,#2a2a2a 3%,#393939 6%,#454545 10%,#494949 13%,#585858 65%,#5d5d5d 74%,#636362 100%); /* W3C */

		.ieonly & {
			background: none;
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#1f1f1f', endColorstr='#636362',GradientType=0 ); /* IE6-8 */
		}
	}
}


h1 {
	@include style-h1;

	&:first-child {
		margin-top: 0;
	}
}

h2 {
	@include style-h2;
}

h3 {
	@include style-h3;
}



div.tab-content {
	border-top: 1px $color-grey-dd solid;
	background: $color-white;
	padding: 8px;
	clear: both;
}

ul.tab-items {
	list-style: none;
	padding: 0;
	margin: 0 0 0 15px;

	li {
		display: inline-block;
		vertical-align: bottom;
		*zoom: 1;
		*display: inline;
		font-size: 12px;
		background-color: #f0f0f0;
		border: 1px #ddd solid;
		border-bottom: none;
		font-weight: bold;
		margin: 0 2px;

		&:hover {
			color: $color-black;
			text-decoration: none;
		}

		&.tab-selected {
			margin-bottom: -1px;
			border-bottom: 1px $color-white solid;
			background: $color-white url("/resources/all/docroot/cms/icons/tab-gray-grad-bg-a.gif") repeat-x left top;

			a {
				color: #330000;
				border-top-color: #ffd75d;
			}
		}

		a {
			text-decoration: none;
			color: $color-grey-55;
			display: block;
			padding: 5px 15px;
			border-top: 1px solid $color-white;
		}
	}
}

.pager {
	width: 100%;
}

.miwt_table {
	border: 1px solid $color-grey-dd;
	width: 100%;
	border-collapse: separate;
	margin: 20px 0;

	th {
		background-color: $color-grey-f2;
		border-top: 1px solid $color-white;
		border-bottom: 3px solid $color-grey-dd;
		color: $color-grey-55;
		font-weight: normal;
		text-transform: uppercase;
		padding: 5px;
		text-align: left;

		&.control {
			text-align: right;
			width: 1%;
			white-space: nowrap;
		}

		a {
			color: #00bae9;
			text-decoration: none;
		}
	}

	.action_column {
		text-align: right;
	}

	tbody {
		tr:hover td {
			background-color: #feffdd;
		}

		td {
			padding: 5px;
			border-bottom: 1px dotted $color-grey-dd;
			background-color: $color-white;
		}

		.odd td {
			background-color: #F9F9F7;
		}

		.last td {
			border-bottom: none;
		}

		td.action_column {
			width: 1%;
			white-space: nowrap;
			text-align: right;
		}
	}

	td .actions {
		margin: 0;
		white-space: nowrap;
	}

	button.miwt_button,
	a.miwt_button {
		padding: 2px 10px;
		font-size: 11.9px;
		border-radius: 3px;
	}
}

table.pager {
	td.pager_pages {
		text-align: center;
		padding: 5px;
	}

	.miwt_table {
		margin: 5px 0;
	}
}

.truncating_renderer {
	tbody td {
		border: none;

		&.tc_short_text_con {
			padding: 0;
		}

		&.tc_cc_con td {
			background: $color-white;
		}
	}

	.miwt_collapsable_content {
		border: 3px solid #23596a;
		box-shadow: 1px 1px 6px transparentize($color-black, 0.6);
		white-space: pre-wrap;
		border-radius: 4px;
		padding: 10px;
		background: $color-white;
		line-height: 1.3;
	}
}


.search_wrapper {
	margin: 0 0 45px;

	.miwt_table {
		margin: 0;
	}

	.entity_actions,
	.result_actions {
		margin: 30px 0 10px 30px;
		float: right;
	}

	input,
	select,
	textarea {
		border: 1px solid #B7B7B5;
		padding: 2px;
		margin: 2px;
	}
}

.search_bar {
	margin: 10px 0;
	padding: 5px 0;

	.result_limit {
		display: block;
	}

	.constraint {
		display: inline-block;
		zoom: 1;
		*display: inline;
		white-space: nowrap;
		margin: 5px;
		padding: 5px;

		label {
			display: block;
		}
	}

	.actions {
		display: inline-block;
		zoom: 1;
		*display: inline;
		padding: 0 10px;
	}

	.no_search & {
		display: none;
	}
}

.pager_search_results {
	.pager_top,
	.pager_bottom {
		text-align: center;
		margin: 15px 0;
	}
}

.column_visibility button.miwt_button{
	&:active {
		background: transparent url(/resources/all/docroot/miwt/component/images/view.gif) no-repeat center;
	}
	&:hover {
		background-position: center;
		transition: none;
	}
}

.column_visibility_selector ul {
	list-style: none;
	padding: 0;
	margin: 0;
	text-transform: none;
}


.message_container {
	margin: 15px 0;
	text-align: left;
	position: relative;

	+ & {
		margin-top: -15px;
	}

	.message {
		font-weight: bold;
		margin-bottom: 10px;

		&:before {
			position: absolute;
			top: 0;
			left: 0;
			width: 14px;
			height: 14px;
			border-radius: 50%;
			text-align: center;
			line-height: 9px;
			font-size: 11px;
		}

		&.error {
			@include style-message-error;
		}

		:first-child {
			margin-top: 0;
		}

		:last-child {
			margin-bottom: 0;
		}
	}
}

/* css for generic style forms */
.genform {
	input[type=password],
	input[type=text],
	input[type=email],
	input[type=tel],
	textarea {
		margin: 0;
		padding: 4px;
		border: 1px solid #d9d9d9;
		border-radius: 2px;

		box-shadow: 1px 1px 1px transparentize($color-white, 0.5),
			0 0 2px transparentize($color-black, 0.9) inset;

		outline: none;
		transition: all 0.25s;

		background: $color-grey-f5;
		/* IE9 SVG, needs conditional override of 'filter' to 'none' */
		background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2Y3ZjdmNyIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmYWZhZmEiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
		background: linear-gradient(to bottom,  rgba(247,247,247,1) 0%,rgba(250,250,250,1) 100%); /* W3C */

		&:focus {
			border: 1px solid #2896d3;
			background: $color-white;
			box-shadow: 0 0 3px rgba(32,175,207,0.5);
		}

		.ieonly & {
			background: none;
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f7f7f7', endColorstr='#fafafa',GradientType=0 ); /* IE6-8 */
		}
	}

	input[type=password],
	input[type=text],
	input[type=email],
	input[type=tel] {
		line-height: 20px;
	}

	input[disabled] {
		color: $color-grey-99;
	}

	textarea {
		width: 350px;
		height: 100px;
	}

	select {
		margin: 0;
		padding: 3px;
		border: 1px solid $color-grey-d5;
		border-radius: 2px;
		box-shadow: 1px 1px 1px transparentize($color-white, 0.5),
			0 0 2px transparentize($color-black, 0.9) inset;

		outline: none;
		transition: all 0.25s;

		&:focus {
			border: 1px solid #20AFCF;
		}
	}

	.miwt_calendar_clear {
		display: none;
	}

	button.ui-datepicker-trigger {
		vertical-align: middle;

		img {
			display: block;
			height: 15px;
		}

		#ie7only & {
			vertical-align: top;
		}
	}

	.user_entry_required {
		> label,
		> .label {
			padding-left: 10px;
			background: transparent url(/resources/all/docroot/cms/icons/x16/icon_required.png) no-repeat left top;
		}
	}
}

button.miwt_calendar_open {
	background: transparent url(/resources/dyn/files/205191z67b40d25/_fn/icon-calendar.png) no-repeat scroll center top;
	height: 24px;
	width: 24px;
	margin: 0;
	padding: 0;
	overflow: hidden;
	text-indent: -1000em;
	font: normal .9em Arial;
	cursor: hand;
	cursor: pointer;
	border: none;
	color: $color-grey-55;
}

/* instructions */
.genform .instructions {
	font-size: 12px;
	border: 1px solid #EAD65C;
	background-color: #FCEFA1;
	padding: 0 10px;
	margin: 10px 0;
	display: block;
}

/* miwt popups */
.miwt {
	.dialog {
		background: $color-white;
		border: 6px solid #23596a;
		border-radius: 4px;
		box-shadow: 0 0 10000px 10000px transparentize($color-black, 0.6);
		padding: 1px;

		.titlebar {
			background: #3a7485;

			td.activewindowtitle {
				color: $color-white;
				text-align: left;
				font-family: $font-museo;
				font-size: 18px;
				padding: 10px;
			}

			td.windowbuttons {
				padding-right: 5px;
			}
		}

		.windowcontent {
			top: 44px;
			border: none;
			padding: 10px;
		}

		.sub_editor {
			padding: 20px;
		}

		.OptionDialog,
		.OptionDialogButtons {
			width: 100%;
		}
	}
}

/* property editor/viewer */
.property_wrapper {
	.prop {
		display: table;
		width: 100%;

		&:hover {
			> label,
			> .label {
				background-color: #377183;
				color: $color-white;
			}

			> .val {
				background-color: $color-grey-ea;
			}
		}

		&.checkbox {
			display: block;
			margin-left: 220px;
			width: auto;
			border-left: 3px solid $color-grey-d0;

			> .val {
				display: block;
			}
		}

		> label,
		> .label {
			display: table-cell;
			width: 200px;
			font-weight: bold;
			border-right: 3px solid $color-grey-d0;
			padding: 10px;
			vertical-align: top;
			text-align: right;
			transition: all 0.25s;
		}

		> .val {
			display: table-cell;
			padding: 10px 15px;
			vertical-align: top;
			background: $color-grey-f5;
			border-bottom: 1px dotted $color-grey-d0;
			transition: all 0.25s;
		}

		.search_wrapper {
			margin: 0 0 15px;
		}
	}

	.user_entry_required {
		> label,
		> .label {
			padding-right: 10px;
			padding-left: 0;
			background: transparent url(/resources/all/docroot/cms/icons/x16/icon_required.png) no-repeat 211px 9px;
		}
	}

	.subprop {
		margin: 15px 0 0;
		clear: both;

		> label {
			display: inline-block;
			margin: 0 0 5px;
			font-weight: bold;
			font-size: 12px;
		}

		> .val {
			margin-left: 10px;
		}

		.name_form {
			white-space: nowrap;
		}

		&.user_entry_required {
			> label,
			> .label {
				padding-right: 10px;
				padding-left: 0;
				background: transparent url(/resources/all/docroot/cms/icons/x16/icon_required.png) no-repeat right 0;
			}
		}
	}

	/* property viewer specificy entity styles */
	.address_form label,
	.name_form .label {
		font-weight: bold;
		font-size: 12px;
		display: block;
	}

	.address_form {
		span.address_line,
		input.address_line,
		.city,
		.region,
		.postal_code {
			margin-left: 10px;
			margin-bottom: 5px;
			display: block;
		}
	}

	.name_form {
		.part {
			display: inline-block;
			margin-right: 10px;
			margin-bottom: 5px;
		}

		input.given_name,
		input.family_name {
			width: 170px;
		}
	}

	.mailing_address .ctb {
		margin: 0 0 10px;
		display: block;
	}

	textarea {
		width: 100%;
		resize: vertical;
	}
}

.property_wrapper .persistence_actions,
.subclient_selection .persistence_actions, /* special because not a property wrapper completely */
.property_wrapper > .actions {
	text-align: right;
	margin-top: 10px;
	margin-bottom: 10px;
	display: block;
}

/* status design */
.status:before {
	content: "";
	display: inline-block;
	width: 0.75em;
	height: 0.75em;
	border-radius: 0.25em;
	margin-right: 5px;
	background-color: $color-grey-ea;
}

.status_notice {
	color: $color-status-notice-text;

	&:before {
		background-color: $color-status-notice-bg;
	}
}

.status_clear {
	color: $color-status-clear-text;

	&:before {
		background-color: $color-status-clear-bg;
	}
}

.status_attention {
	color: $color-status-attention-text;

	&:before {
		background-color: $color-status-attention-bg;
	}
}

span.help_point {
	position: relative;
	display: inline-block;
	width: 15px;
	height: 15px;
	line-height: 15px;
	font-size: 12px;
	background: $color-grey-55;
	text-align: center;
	color: $color-white;
	border-radius: 20px;
	margin-left: 5px;
	border: 2px solid $color-white;
	box-shadow: 0 0 3px 1px transparentize($color-black, 0.6);
	cursor: help;
	text-decoration: none;

	.hp-tooltip {
		background: $color-grey-33;
		padding: 15px 20px;
		color: $color-white;
		position: absolute;
		top: 100%;
		left: 0;
		margin-top: -10px;
		z-index: 50;
		box-shadow: 0 0 4px transparentize($color-black, 0.7);
		min-width: 200px;
		transition: all 0.2s;
		opacity: 0;
		text-align: left;
		font-weight: normal;
		line-height: 1.4;

		&.active {
			opacity: 1;
			margin-top: 0;
		}

		.arrow {
			position: absolute;
			bottom: 100%;
			left: 0;
			width: 0;
			height: 0;
			border-top: none;
			border-right: 8px solid transparent;
			border-left: 8px solid transparent;
			border-bottom: 5px solid $color-grey-33;
		}
	}
}